var GustScroll=new function(){this.enable=function(c){if(c.length>1){for(var b=0;b<c.length;b++){this.enable($(c[b]))}return}c.addClass("__custom-container");c.css("overflow","hidden");if(c.css("position")=="static"||c.css("position")==""){c.css("position","relative")}var a='<div class="__custom-panel">'+c.html()+'</div><div class="__custom-scroll"><div class="__bar"></div></div>';c.empty();c.html(a);this.update(c)};this.disable=function(b){if(b.length>1){for(var a=0;a<b.length;a++){this.destroyScroll($(b[a]))}return}b.removeClass("__custom-container");b.children(".__custom-scroll").find(".__bar").unbind("mousedown");b.unbind("mousewheel");b.children(".__custom-scroll").remove();b.html(b.children(".__custom-panel").html());b.children(".__custom-panel").empty()};this.update=function(c){if(c.length>1){for(var f=0;f<c.length;f++){this.update($(c[f]))}return}var g=c.children(".__custom-scroll");var b=c.children(".__custom-panel");var d=c.height();var h=b.height();var j=d/h*d;var a=g.find(".__bar");if(d/h<1){a.css({height:d/h*d,display:"block"})}else{a.css({height:0,display:"none"})}if(h+parseInt(b.css("top"))<d){b.css("top",d-h);a.css({top:-((d-h)/h*d)})}var e=false;g.find(".__bar").unbind("mousedown").mousedown(function(n){e=true;var o=$(this);var i=$(this).parents("body").first();var l=$("<div style='position: absolute;width: 100%;height: 100%;z-index: 999999;left: 0px; top: 0px;cursor: default;'></div>").appendTo(i);var m={y:n.pageY-parseInt(o.css("top"))};o.addClass("moved");var k=o.parent().siblings(".__custom-panel");l.unbind("mousemove").bind("mousemove",function(p){var q={y:p.pageY-m.y};if(q.y>=0&&q.y<=d-j){o.css({top:q.y});k.css({top:-(q.y/d*h)})}else{if(q.y<0){o.css({top:0});k.css({top:0})}else{if(q.y>d-j){o.css({top:d-j});k.css({top:-((d-j)/d*h)})}}}});l.unbind("mouseup").bind("mouseup",function(){e=false;l.unbind("mousemove").unbind("mouseup");l.remove();o.removeClass("moved")});return false});c.unbind("mousewheel").mousewheel(function(l){var i=l.deltaY*8;var k=g.find(".__bar");i=parseInt(k.css("top"))-i;if(i>=0&&i<=d-j){k.css({top:i});b.css({top:-(i/d*h)})}else{if(i<0){k.css({top:0});b.css({top:0})}else{if(i>d-j){k.css({top:d-j});b.css({top:-((d-j)/d*h)})}}}})};this.scrollTo=function(d,f,c){var b=d.children(".__custom-panel");var a=d.children(".__custom-scroll");var e=a.children(".__bar");if(c){b.animate({top:f},300);e.animate({top:-(f/b.height()*d.height())},300)}else{b.css("top",f);e.css("top",-(f/b.height()*d.height()))}};this.scrollToTop=function(b,a){this.scrollTo(b,0,a)};this.scrollToBottom=function(d,c){var b=d.children(".__custom-panel");var a=d.children(".__custom-scroll");this.scrollTo(d,d.height()-b.height(),c)}};